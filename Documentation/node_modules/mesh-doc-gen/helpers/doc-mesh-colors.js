//..............................................................................

const
{   util,
} = cxq;
//..............................................................................
const
{
    getMasterNetName,
    isMaster,
} = cxq.meshDocGen;
//..............................................................................

//..............................................................................
const
{
    addProperties,
    makeColor,
} = util;
//..............................................................................

//..............................................................................
const colorsHex =
{
    colorGold         : "#ebb300",
    colorBlack        : "#000000",
    colorWhite        : "#ffffff",
    colorBlue         : "#0000ff",
    colorRed          : "#ff0000",
    colorNavy         : "#000080",
    colorTextDark     : "#303030",
    colorTextLight    : "#ffffff",
    colorGround       : "#a6ce39",
    color5V0          : "#ed1c24",
    color3V3          : "#2aa9e0",
    colorSDA          : "#bb87bc",
    colorSCL          : "#a154a1",
    colorSWDIO        : "#b19e91",
    colorSWCLK        : "#faa61a",
    colorMISO         : "#f37021",
    colorMOSI         : "#ffcc4e",
    colorSCLK         : "#faa61a",
    colorWAKE         : "#d2ab67",
    colorCS_N         : "#fdc99b",
    colorMISO_M       : "#0088c5",
    colorMOSI_M       : "#97ccef",
    colorSCLK_M       : "#2aa9e0",
    colorOutlineFill  : '#f5f5f5',
    colorStroke       : '#303030',
    colorBottomMB     : '#303030',
    colorSchJunction  : '#000088',
    colorSchPort      : '#ffff80',
    colorTextAdv      : '#808000',
    colorDeepPink     : '#ff1493',
    colorChartreuse   : '#7fff00',
    colorQrCode       : '#bdbcbc',
    colorPadDefault   : '#c0c0c0',
    colorSchPart      : '#ffffb0',
    colorSchBkLogo    : '#3399ff',
    colorSchWire      : '#000080',
    colorSchBkLight   : '#ffffff',
    colorSchGridGrey  : '#f6f6f6',
    colorSchPortFill  : '#ffff80',
    colorSchPinPower  : '#ed1c24',
    colorLinkTextDark : '#000080',
    colorLinkTextStd  : '#0000ff',
    colorFillLightMB  : '#f5f5f5',
    colorFillDarkMB   : '#404040',


};
//..............................................................................

//..............................................................................
function getColorByNetName(netName)
{
    if (netName.indexOf('MISO' ) > -1 && netName.indexOf('@M' ) > -1) return colorsHex.colorMISO_M  ;
    if (netName.indexOf('MOSI' ) > -1 && netName.indexOf('@M' ) > -1) return colorsHex.colorMOSI_M  ;
    if (netName.indexOf('SCLK' ) > -1 && netName.indexOf('@M' ) > -1) return colorsHex.colorSCLK_M  ;

    if (netName === "GND"       ) return colorsHex.colorGround;
    if (netName === "3V3"       ) return colorsHex.color3V3   ;
    if (netName === "3V3_IN"    ) return colorsHex.color3V3   ;
    if (netName === "3V3_OUT"   ) return colorsHex.color3V3   ;
    if (netName === "5V0"       ) return colorsHex.color5V0   ;
    if (netName === "5V"        ) return colorsHex.color5V0   ;
    if (netName === "5V0_IN"    ) return colorsHex.color5V0   ;
    if (netName === "5V0_OUT"   ) return colorsHex.color5V0   ;
    if (netName === "5V_IN"     ) return colorsHex.color5V0   ;
    if (netName === "5V_OUT"    ) return colorsHex.color5V0   ;
    if (netName === "9V_OUT"    ) return colorsHex.color5V0   ;
    if (netName === "VA_IN"     ) return colorsHex.color5V0   ;
    if (netName === "VB_IN"     ) return colorsHex.color5V0   ;
    if (netName === "VDC"       ) return colorsHex.color5V0   ;
    if (netName === "VBAT"      ) return colorsHex.color5V0   ;
    if (netName === "C9/WKUP"   ) return colorsHex.colorWAKE  ;

    if (netName.indexOf('GND'  ) > -1) return colorsHex.colorGround;
    if (netName.indexOf('MISO' ) > -1) return colorsHex.colorMISO  ;
    if (netName.indexOf('MOSI' ) > -1) return colorsHex.colorMOSI  ;
    if (netName.indexOf('SCLK' ) > -1) return colorsHex.colorSCLK  ;
    if (netName.indexOf('SCL'  ) > -1) return colorsHex.colorSCL   ;
    if (netName.indexOf('SDA'  ) > -1) return colorsHex.colorSDA   ;
    if (netName.indexOf('SWDIO') > -1) return colorsHex.colorSWDIO ;
    if (netName.indexOf('SWCLK') > -1) return colorsHex.colorSWCLK ;
    if (netName.indexOf('WAKE' ) > -1) return colorsHex.colorWAKE  ;
    if (netName.indexOf('CS_N' ) > -1) return colorsHex.colorCS_N  ;

    return colorsHex.colorDeepPink;
}
//..............................................................................

//..............................................................................
function getColorByNet(netName, parentID = '', objectType = 'None')
{
    if (isMaster(parentID))
    {
        netName = getMasterNetName(netName);
    }

    var color = getColorByNetName(netName);

    var test = makeColor(color).lighten(20);

    test = test.toHex();

    if (color === colorsHex.colorDeepPink && objectType === 'desig')
    {
            return makeColor(colorsHex.colorPadDefault).darken(30);
    }
    else if (objectType === 'desig')
    {
        var resultColor = makeColor(color);

        resultColor = resultColor.darken(30);

        return resultColor.toHex();
    }

    if (color === colorsHex.colorDeepPink)
    {
        if (objectType === 'pad')
        {
            return colorsHex.colorPadDefault;
        }
        else
        {
            return colorsHex.colorChartreuse;
        }
    }

    return color;
}
//..............................................................................

//..............................................................................
addProperties(cxq.meshDocGen,
{
    colorsHex,
    getColorByNet,
});
