require('./unit-util'      );
const baseTypes      = require('./base-types'        );
const countries      = require('./countries'         );
const currencies     = require('./currencies'        );
const primitiveTypes = require('./primitive-types'   );
const unitTypes      = require('./unit-types'        );
const unitTypeGroups = require('./unit-type-groups'  );
const mcuTypes       = require('./mcu-types'         );
const systemFields   = require('./system-fields'     );
const packageTypes   = require('./package-types'     );
const projectTypes   = require('./project-types'     );
const devConst       = require('./device-constants'  );
const mtConst        = require('./mt-const'          );
const pinTypes       = require('./pin-electrical'    );

require('./money'           );
require('./unit-converters' );
require('./system-processes');
require('./device-expander' );
require('./pin-special-fn'  );
require('./pin-gpio'        );

const {mtDataTypes, mtRegTypes, mtCommands} = mtConst;
//..............................................................................
const {util} = cxq;
const {addProperties, addToNameSpace, getCurrency, processList} = util;
//..............................................................................

//..............................................................................
const systemMetadata =
{
    baseTypes,
    countries,
    currencies,
    primitiveTypes,
    unitTypes,
    unitTypeGroups,
    mcuTypes,
    systemFields,
    projectTypes
};
//..............................................................................

//..............................................................................
function getCurrencyInfo()
{
    return currencies[getCurrency()] || null;
}
//..............................................................................

//..............................................................................
processList(countries   , function(record,id) {record.id = id;});
processList(currencies  , function(record,id) {record.id = id;});
processList(projectTypes, function(record,id) {record.id = id;});
processList(packageTypes, function(record,id) {record.id = id;});
//..............................................................................

//..............................................................................
addToNameSpace(baseTypes     , 'baseTypes'       );
addToNameSpace(primitiveTypes, 'primitiveTypes'  );
addToNameSpace(unitTypes     , 'unitTypes'       );                     
addToNameSpace(unitTypeGroups, 'unitTypeGroups'  );
addToNameSpace(mcuTypes      , 'mcuTypes'        );
addToNameSpace(systemFields  , 'systemFields'    );
addToNameSpace(currencies    , 'currencies'      );
addToNameSpace(countries     , 'countries'       );
addToNameSpace(packageTypes  , 'packageTypes'    );
addToNameSpace(projectTypes  , 'projectTypes'    );
addToNameSpace(devConst      , 'devConst'        );
addToNameSpace(pinTypes      , 'pinTypes'        );
addToNameSpace(mtDataTypes   , 'mtDataTypes'     );
addToNameSpace(mtRegTypes    , 'mtRegTypes'      );
addToNameSpace(mtCommands    , 'mtCommands'      );
//..............................................................................

addProperties(util,
{
    getCurrencyInfo
});

module.exports = systemMetadata;
